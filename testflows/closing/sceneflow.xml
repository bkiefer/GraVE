<?xml version="1.0" encoding="ISO-8859-1"?>
<SceneFlow id="closingQuizRobotAsks" name="closing" comment="" exhaustive="false" preserving="false" start="N16;" context="" package="" xmlns="xml.sceneflow.dfki.de" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="xml.sceneflow.dfki.de /xsd/sceneflow.xsd">
  <Define>
    <StructType name="DialogueAct">
      <Member type="String" name ="type"/>
      <Member type="String" name ="subtype"/>
      <Member type="String" name ="polarity"/>
      <Member type="String" name ="correct"/>
    </StructType>
    <StructType name="Params">
    </StructType>
    <StructType name="SystemFlags">
      <Member type="String" name ="status"/>
      <Member type="Bool" name ="shutDownRequested"/>
    </StructType>
    <StructType name="SituationEnum">
      <Member type="String" name ="startIntro"/>
      <Member type="String" name ="askName"/>
      <Member type="String" name ="askHobby"/>
      <Member type="String" name ="askAge"/>
      <Member type="String" name ="askColor"/>
      <Member type="String" name ="introFinished"/>
    </StructType>
    <StructType name="StatusEnum">
      <Member type="String" name ="started"/>
      <Member type="String" name ="stopped"/>
      <Member type="String" name ="idle"/>
      <Member type="String" name ="shuttingDown"/>
    </StructType>
    <StructType name="ActorEnum">
      <Member type="String" name ="robot"/>
      <Member type="String" name ="user"/>
    </StructType>
    <StructType name="SystemSignalEnum">
      <Member type="String" name ="start"/>
      <Member type="String" name ="stop"/>
      <Member type="String" name ="shutDown"/>
    </StructType>
  </Define>
  <Declare>
    <Variable type="SituationEnum" name ="SE">
      <Struct>
        <Assign>
          <Variable name="startClosing"/>
          <Expression>
            <String value="startClosing"/>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="askFun"/>
          <Expression>
            <String value="askFun"/>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="closingFinished"/>
          <Expression>
            <String value="closingFinished"/>
          </Expression>
        </Assign>
      </Struct>
    </Variable>
    <Variable type="SystemSignalEnum" name ="Signal">
      <Struct>
        <Assign>
          <Variable name="start"/>
          <Expression>
            <String value="start"/>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="stop"/>
          <Expression>
            <String value="stop"/>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="continue"/>
          <Expression>
            <String value="continue"/>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="shutDown"/>
          <Expression>
            <String value="shutDown"/>
          </Expression>
        </Assign>
      </Struct>
    </Variable>
    <Variable type="StatusEnum" name ="StatE">
      <Struct>
        <Assign>
          <Variable name="started"/>
          <Expression>
            <String value="started"/>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="continue"/>
          <Expression>
            <String value="continue"/>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="stopped"/>
          <Expression>
            <String value="stopped"/>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="idle"/>
          <Expression>
            <String value="idle"/>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="shuttingDown"/>
          <Expression>
            <String value="shuttingDown"/>
          </Expression>
        </Assign>
      </Struct>
    </Variable>
    <Variable type="SystemFlags" name ="flag">
      <Struct>
        <Assign>
          <Variable name="status"/>
          <Expression>
            <Member name="StatE" member="idle">
            </Member>
          </Expression>
        </Assign>
        <Assign>
          <Variable name="shutDownRequested"/>
          <Expression>
            <Bool value="false"/>
          </Expression>
        </Assign>
      </Struct>
    </Variable>
    <Variable type="DialogueAct" name ="lastReaction">
      <UserCommand name="emptyReaction">
      </UserCommand>
    </Variable>
    <Variable type="String" name ="lastSignal">
      <String value=""/>
    </Variable>
    <Variable type="String" name ="situation">
      <String value=""/>
    </Variable>
    <Variable type="Bool" name ="correctResponse">
      <Bool value="false"/>
    </Variable>
  </Declare>
  <Commands>
  </Commands>
  <VariableBadge>
    <Position x-pos="8" y-pos="6"/>
  </VariableBadge>
  <Comment>
    <Graphics>
      <Rect x-pos="890" y-pos="402" width="261" height="92"/>
    </Graphics>
    <Text>
      <html>
        <head>
          <style type="text/css">
            <!--
              body { font-family: SansSerif; font-size: 11pt }
            -->
          </style>
          
        </head>
        <body>
          TODO: stopListeningToSystemSignals (or otherwise do not start listening to 
          system signals after obtaining of Signal.shutDown)
        </body>
      </html>
    </Text>
  </Comment>
  <Node id="N1" name="Done" exhaustive="false" preserving="false" history="false">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <Graphics>
      <Position x-pos="716" y-pos="200"/>
    </Graphics>
  </Node>
  <Node id="N9" name="ShutDownPreparations" exhaustive="false" preserving="false" history="false">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
      <UserCommand name="stopListening">
      </UserCommand>
    </Commands>
    <EEdge target="N1" start ="">
    <Graphics>
      <Arrow>
        <Point x-pos="796" y-pos="393" control-x-pos="795" control-y-pos="367"/>
        <Point x-pos="789" y-pos="273" control-x-pos="795" control-y-pos="322"/>
      </Arrow>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position x-pos="716" y-pos="372"/>
    </Graphics>
  </Node>
  <Node id="N16" name="Initialize" exhaustive="false" preserving="false" history="false">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <FEdge target="S10" start="">
      <Graphics>
        <Arrow>
          <Point x-pos="200" y-pos="329" control-x-pos="279" control-y-pos="313"/>
          <Point x-pos="390" y-pos="286" control-x-pos="315" control-y-pos="286"/>
        </Arrow>
      </Graphics>
    </FEdge>
    <FEdge target="S11" start="">
      <Graphics>
        <Arrow>
          <Point x-pos="199" y-pos="340" control-x-pos="277" control-y-pos="345"/>
          <Point x-pos="372" y-pos="341" control-x-pos="322" control-y-pos="345"/>
        </Arrow>
      </Graphics>
    </FEdge>
    <FEdge target="S8" start="">
      <Graphics>
        <Arrow>
          <Point x-pos="194" y-pos="351" control-x-pos="278" control-y-pos="386"/>
          <Point x-pos="372" y-pos="427" control-x-pos="317" control-y-pos="395"/>
        </Arrow>
      </Graphics>
    </FEdge>
    <FEdge target="S14" start="">
      <Graphics>
        <Arrow>
          <Point x-pos="199" y-pos="318" control-x-pos="286" control-y-pos="273"/>
          <Point x-pos="390" y-pos="200" control-x-pos="295" control-y-pos="245"/>
        </Arrow>
      </Graphics>
    </FEdge>
    <Graphics>
      <Position x-pos="114" y-pos="286"/>
    </Graphics>
  </Node>
  <SuperNode id="S10" name="ListenToOutsideWorld" comment="" exhaustive="false" preserving="false" start="N3;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <EEdge target="N1" start ="">
    <Graphics>
      <Arrow>
        <Point x-pos="458" y-pos="255" control-x-pos="592" control-y-pos="255"/>
        <Point x-pos="748" y-pos="285" control-x-pos="637" control-y-pos="255"/>
      </Arrow>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position x-pos="372" y-pos="200"/>
    </Graphics>
    <VariableBadge>
      <Position x-pos="10" y-pos="10"/>
    </VariableBadge>
    <Node id="N7" name="History" exhaustive="false" preserving="false" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position x-pos="30" y-pos="570"/>
      </Graphics>
    </Node>
    <Node id="N2" name="Listen" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastReaction"/>
          <Expression>
            <UserCommand name="listen">
            </UserCommand>
          </Expression>
        </Assign>
        <UserCommand name="print">
          <Add>
            <String value="Got Outside Message "/>
            <Member name="lastReaction" member="type">
            </Member>
          </Add>
        </UserCommand>
      </Commands>
      <EEdge target="N3" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="752" y-pos="447" control-x-pos="687" control-y-pos="465"/>
          <Point x-pos="568" y-pos="447" control-x-pos="632" control-y-pos="465"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="750" y-pos="390"/>
      </Graphics>
    </Node>
    <Node id="N3" name="DecideIfListen" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N2" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="570" y-pos="435" control-x-pos="609" control-y-pos="323"/>
            <Point x-pos="750" y-pos="435" control-x-pos="714" control-y-pos="324"/>
          </Arrow>
        </Graphics>
        <And>
          <Eq>
            <Member name="lastReaction" member="type">
            </Member>
            <String value=""/>
          </Eq>
          <Neq>
            <Member name="flag" member="status">
            </Member>
            <Member name="StatE" member="shuttingDown">
            </Member>
          </Neq>
        </And>
      </CEdge>
      <CEdge target="N8" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="525" y-pos="480" control-x-pos="525" control-y-pos="502"/>
            <Point x-pos="525" y-pos="570" control-x-pos="525" control-y-pos="547"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Member name="flag" member="status">
          </Member>
          <Member name="StatE" member="shuttingDown">
          </Member>
        </Eq>
      </CEdge>
      <TEdge target="N41" start="" timeout="1000">
      <Graphics>
        <Arrow>
          <Point x-pos="513" y-pos="392" control-x-pos="479" control-y-pos="321"/>
          <Point x-pos="294" y-pos="278" control-x-pos="400" control-y-pos="286"/>
        </Arrow>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position x-pos="480" y-pos="390"/>
      </Graphics>
    </Node>
    <Node id="N8" name="Done" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position x-pos="480" y-pos="570"/>
      </Graphics>
    </Node>
    <Node id="N41" name="DisposeOfUnusedInput" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastReaction"/>
          <Expression>
            <UserCommand name="emptyReaction">
            </UserCommand>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N3" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="267" y-pos="298" control-x-pos="335" control-y-pos="393"/>
          <Point x-pos="493" y-pos="403" control-x-pos="381" control-y-pos="365"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="210" y-pos="210"/>
      </Graphics>
    </Node>
  </SuperNode>
  <SuperNode id="S11" name="ReactToSystemSignalsAndInterrupts" comment="" exhaustive="false" preserving="false" start="N14;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <EEdge target="N1" start ="">
    <Graphics>
      <Arrow>
        <Point x-pos="458" y-pos="329" control-x-pos="598" control-y-pos="301"/>
        <Point x-pos="748" y-pos="285" control-x-pos="639" control-y-pos="298"/>
      </Arrow>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position x-pos="372" y-pos="286"/>
    </Graphics>
    <VariableBadge>
      <Position x-pos="10" y-pos="10"/>
    </VariableBadge>
    <Node id="N12" name="History" exhaustive="false" preserving="false" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position x-pos="30" y-pos="570"/>
      </Graphics>
    </Node>
    <Node id="N13" name="ConsumeLastReaction" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastReaction"/>
          <Expression>
            <UserCommand name="emptyReaction">
            </UserCommand>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N82" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="840" y-pos="165" control-x-pos="907" control-y-pos="165"/>
          <Point x-pos="1033" y-pos="223" control-x-pos="1001" control-y-pos="194"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="750" y-pos="120"/>
      </Graphics>
    </Node>
    <Node id="N14" name="WaitForSignalOrInterrupt" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N15" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="396" y-pos="367" control-x-pos="335" control-y-pos="404"/>
            <Point x-pos="165" y-pos="480" control-x-pos="165" control-y-pos="457"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Member name="flag" member="status">
          </Member>
          <Member name="StatE" member="shuttingDown">
          </Member>
        </Eq>
      </CEdge>
      <CEdge target="N13" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="457" y-pos="306" control-x-pos="536" control-y-pos="270"/>
            <Point x-pos="750" y-pos="165" control-x-pos="499" control-y-pos="98"/>
          </Arrow>
        </Graphics>
        <And>
          <Eq>
            <Member name="lastReaction" member="type">
            </Member>
            <String value="interrupt"/>
          </Eq>
          <Eq>
            <Member name="lastReaction" member="subtype">
            </Member>
            <String value="stop"/>
          </Eq>
        </And>
      </CEdge>
      <CEdge target="N71" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="478" y-pos="333" control-x-pos="634" control-y-pos="342"/>
            <Point x-pos="750" y-pos="345" control-x-pos="695" control-y-pos="360"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Variable name="lastSignal"/>
          <Member name="Signal" member="stop">
          </Member>
        </Eq>
      </CEdge>
      <CEdge target="N89" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="474" y-pos="368" control-x-pos="589" control-y-pos="436"/>
            <Point x-pos="756" y-pos="502" control-x-pos="640" control-y-pos="433"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Variable name="lastSignal"/>
          <Member name="Signal" member="shutDown">
          </Member>
        </Eq>
      </CEdge>
      <CEdge target="N96" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="467" y-pos="377" control-x-pos="600" control-y-pos="510"/>
            <Point x-pos="763" y-pos="673" control-x-pos="629" control-y-pos="539"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Variable name="lastSignal"/>
          <Member name="Signal" member="start">
          </Member>
        </Eq>
      </CEdge>
      <CEdge target="N24" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="457" y-pos="384" control-x-pos="582" control-y-pos="606"/>
            <Point x-pos="773" y-pos="846" control-x-pos="647" control-y-pos="623"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Variable name="lastSignal"/>
          <Member name="Signal" member="continue">
          </Member>
        </Eq>
      </CEdge>
      <TEdge target="N14" start="" timeout="60000">
      <Graphics>
        <Arrow>
          <Point x-pos="413" y-pos="306" control-x-pos="373" control-y-pos="197"/>
          <Point x-pos="396" y-pos="322" control-x-pos="274" control-y-pos="252"/>
        </Arrow>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position x-pos="390" y-pos="300"/>
      </Graphics>
    </Node>
    <Node id="N15" name="Done" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position x-pos="120" y-pos="480"/>
      </Graphics>
    </Node>
    <Node id="N82" name="ChangeStatus" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Member name="flag" member="status">
          </Member>
          <Expression>
            <Member name="StatE" member="stopped">
            </Member>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N90" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="1104" y-pos="278" control-x-pos="1132" control-y-pos="294"/>
          <Point x-pos="1206" y-pos="322" control-x-pos="1177" control-y-pos="305"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="1020" y-pos="210"/>
      </Graphics>
    </Node>
    <Node id="N70" name="RaiseFlag" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Member name="flag" member="shutDownRequested">
          </Member>
          <Expression>
            <Bool value="true"/>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N82" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="1007" y-pos="493" control-x-pos="1060" control-y-pos="439"/>
          <Point x-pos="1026" y-pos="277" control-x-pos="961" control-y-pos="313"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="930" y-pos="480"/>
      </Graphics>
    </Node>
    <Node id="N71" name="ConsumeLastSignal" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastSignal"/>
          <Expression>
            <String value=""/>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N82" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="838" y-pos="333" control-x-pos="909" control-y-pos="313"/>
          <Point x-pos="1022" y-pos="267" control-x-pos="950" control-y-pos="286"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="750" y-pos="300"/>
      </Graphics>
    </Node>
    <Node id="N89" name="ConsumeLastSignal" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastSignal"/>
          <Expression>
            <String value=""/>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N70" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="840" y-pos="525" control-x-pos="907" control-y-pos="525"/>
          <Point x-pos="930" y-pos="525" control-x-pos="862" control-y-pos="525"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="750" y-pos="480"/>
      </Graphics>
    </Node>
    <Node id="N90" name="ReturnToWait" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N14" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="1223" y-pos="306" control-x-pos="1094" control-y-pos="15"/>
          <Point x-pos="435" y-pos="300" control-x-pos="475" control-y-pos="18"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="1200" y-pos="300"/>
      </Graphics>
    </Node>
    <Node id="N96" name="N96" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastSignal"/>
          <Expression>
            <String value=""/>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N97" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="840" y-pos="705" control-x-pos="862" control-y-pos="705"/>
          <Point x-pos="930" y-pos="705" control-x-pos="907" control-y-pos="705"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="750" y-pos="660"/>
      </Graphics>
    </Node>
    <Node id="N97" name="N97" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Member name="flag" member="status">
          </Member>
          <Expression>
            <Member name="StatE" member="started">
            </Member>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N90" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="997" y-pos="666" control-x-pos="1096" control-y-pos="551"/>
          <Point x-pos="1213" y-pos="377" control-x-pos="1101" control-y-pos="489"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="930" y-pos="660"/>
      </Graphics>
    </Node>
    <Node id="N24" name="N96" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastSignal"/>
          <Expression>
            <String value=""/>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N25" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="840" y-pos="885" control-x-pos="862" control-y-pos="885"/>
          <Point x-pos="930" y-pos="885" control-x-pos="907" control-y-pos="885"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="750" y-pos="840"/>
      </Graphics>
    </Node>
    <Node id="N25" name="N97" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Member name="flag" member="status">
          </Member>
          <Expression>
            <Member name="StatE" member="continue">
            </Member>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N90" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="997" y-pos="846" control-x-pos="1111" control-y-pos="642"/>
          <Point x-pos="1223" y-pos="384" control-x-pos="1108" control-y-pos="587"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="930" y-pos="840"/>
      </Graphics>
    </Node>
  </SuperNode>
  <SuperNode id="S8" name="Idle" comment="" exhaustive="false" preserving="false" start="N95;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <CEdge target="S19" start="">
      <Graphics>
        <Arrow>
          <Point x-pos="440" y-pos="458" control-x-pos="359" control-y-pos="507"/>
          <Point x-pos="390" y-pos="630" control-x-pos="327" control-y-pos="589"/>
        </Arrow>
      </Graphics>
      <Eq>
        <Variable name="situation"/>
        <Member name="SE" member="startClosing">
        </Member>
      </Eq>
    </CEdge>
    <EEdge target="N9" start ="">
    <Graphics>
      <Arrow>
        <Point x-pos="458" y-pos="440" control-x-pos="547" control-y-pos="435"/>
        <Point x-pos="748" y-pos="457" control-x-pos="682" control-y-pos="435"/>
      </Arrow>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position x-pos="372" y-pos="372"/>
    </Graphics>
    <VariableBadge>
      <Position x-pos="10" y-pos="10"/>
    </VariableBadge>
    <Node id="N63" name="History" exhaustive="false" preserving="false" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position x-pos="544" y-pos="114"/>
      </Graphics>
    </Node>
    <Node id="N64" name="IdleState" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N66" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="630" y-pos="415" control-x-pos="737" control-y-pos="415"/>
            <Point x-pos="888" y-pos="415" control-x-pos="780" control-y-pos="415"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Member name="flag" member="status">
          </Member>
          <Member name="StatE" member="started">
          </Member>
        </Eq>
      </CEdge>
      <TEdge target="N95" start="" timeout="2000">
      <Graphics>
        <Arrow>
          <Point x-pos="545" y-pos="404" control-x-pos="381" control-y-pos="361"/>
          <Point x-pos="199" y-pos="254" control-x-pos="362" control-y-pos="296"/>
        </Arrow>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position x-pos="544" y-pos="372"/>
      </Graphics>
    </Node>
    <Node id="N66" name="StartPlayingQuiz" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="situation"/>
          <Expression>
            <Member name="SE" member="startClosing">
            </Member>
          </Expression>
        </Assign>
        <UserCommand name="print">
          <Add>
            <String value="Situation: "/>
            <Variable name="situation"/>
          </Add>
        </UserCommand>
      </Commands>
      <Graphics>
        <Position x-pos="888" y-pos="372"/>
      </Graphics>
    </Node>
    <Node id="N81" name="Quit" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position x-pos="372" y-pos="544"/>
      </Graphics>
    </Node>
    <Node id="N91" name="ResetToIdle" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Member name="flag" member="status">
          </Member>
          <Expression>
            <Member name="StatE" member="idle">
            </Member>
          </Expression>
        </Assign>
        <UserCommand name="sysCall">
          <String value="flowEnded"/>
          <String value="closing"/>
        </UserCommand>
      </Commands>
      <EEdge target="N94" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="426" y-pos="285" control-x-pos="431" control-y-pos="306"/>
          <Point x-pos="426" y-pos="373" control-x-pos="431" control-y-pos="352"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="372" y-pos="200"/>
      </Graphics>
    </Node>
    <Node id="N92" name="ChangeStatus" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Member name="flag" member="status">
          </Member>
          <Expression>
            <Member name="StatE" member="shuttingDown">
            </Member>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N81" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="200" y-pos="587" control-x-pos="264" control-y-pos="587"/>
          <Point x-pos="372" y-pos="587" control-x-pos="307" control-y-pos="587"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="114" y-pos="544"/>
      </Graphics>
    </Node>
    <Node id="N93" name="CheckShutDown" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N92" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="157" y-pos="458" control-x-pos="157" control-y-pos="479"/>
            <Point x-pos="157" y-pos="544" control-x-pos="157" control-y-pos="522"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Member name="flag" member="shutDownRequested">
          </Member>
          <Bool value="true"/>
        </Eq>
      </CEdge>
      <EEdge target="N94" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="200" y-pos="415" control-x-pos="264" control-y-pos="415"/>
          <Point x-pos="372" y-pos="415" control-x-pos="307" control-y-pos="415"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="114" y-pos="372"/>
      </Graphics>
    </Node>
    <Node id="N94" name="CheckStopped" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N91" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="415" y-pos="372" control-x-pos="415" control-y-pos="350"/>
            <Point x-pos="415" y-pos="286" control-x-pos="415" control-y-pos="307"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Member name="flag" member="status">
          </Member>
          <Member name="StatE" member="stopped">
          </Member>
        </Eq>
      </CEdge>
      <EEdge target="N64" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="458" y-pos="415" control-x-pos="479" control-y-pos="415"/>
          <Point x-pos="544" y-pos="415" control-x-pos="522" control-y-pos="415"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="372" y-pos="372"/>
      </Graphics>
    </Node>
    <Node id="N95" name="Start" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N93" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="157" y-pos="286" control-x-pos="157" control-y-pos="307"/>
          <Point x-pos="157" y-pos="372" control-x-pos="157" control-y-pos="350"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="114" y-pos="200"/>
      </Graphics>
    </Node>
  </SuperNode>
  <SuperNode id="S14" name="ListenToSystemSignals" comment="" exhaustive="false" preserving="false" start="N69;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <EEdge target="N1" start ="">
    <Graphics>
      <Arrow>
        <Point x-pos="458" y-pos="182" control-x-pos="598" control-y-pos="208"/>
        <Point x-pos="716" y-pos="243" control-x-pos="639" control-y-pos="211"/>
      </Arrow>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position x-pos="372" y-pos="114"/>
    </Graphics>
    <VariableBadge>
      <Position x-pos="10" y-pos="10"/>
    </VariableBadge>
    <Node id="N67" name="History" exhaustive="false" preserving="false" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position x-pos="30" y-pos="570"/>
      </Graphics>
    </Node>
    <Node id="N69" name="DecideIfListen" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N88" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="525" y-pos="480" control-x-pos="525" control-y-pos="502"/>
            <Point x-pos="525" y-pos="570" control-x-pos="525" control-y-pos="547"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Member name="flag" member="status">
          </Member>
          <Member name="StatE" member="shuttingDown">
          </Member>
        </Eq>
      </CEdge>
      <CEdge target="N87" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="570" y-pos="435" control-x-pos="609" control-y-pos="323"/>
            <Point x-pos="763" y-pos="403" control-x-pos="714" control-y-pos="324"/>
          </Arrow>
        </Graphics>
        <And>
          <Eq>
            <Variable name="lastSignal"/>
            <String value=""/>
          </Eq>
          <Neq>
            <Member name="flag" member="status">
            </Member>
            <Member name="StatE" member="shuttingDown">
            </Member>
          </Neq>
        </And>
      </CEdge>
      <TEdge target="N68" start="" timeout="2000">
      <Graphics>
        <Arrow>
          <Point x-pos="503" y-pos="396" control-x-pos="454" control-y-pos="309"/>
          <Point x-pos="294" y-pos="278" control-x-pos="392" control-y-pos="284"/>
        </Arrow>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position x-pos="480" y-pos="390"/>
      </Graphics>
    </Node>
    <Node id="N87" name="Listen" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastSignal"/>
          <Expression>
            <UserCommand name="getSystemSignal">
            </UserCommand>
          </Expression>
        </Assign>
        <UserCommand name="print">
          <Add>
            <String value="Got SystemInput: "/>
            <Variable name="lastSignal"/>
          </Add>
        </UserCommand>
      </Commands>
      <EEdge target="N69" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="752" y-pos="447" control-x-pos="687" control-y-pos="465"/>
          <Point x-pos="568" y-pos="447" control-x-pos="632" control-y-pos="465"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="750" y-pos="390"/>
      </Graphics>
    </Node>
    <Node id="N88" name="Done" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position x-pos="480" y-pos="570"/>
      </Graphics>
    </Node>
    <Node id="N68" name="DisposeOfUnusedInput" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <UserCommand name="print">
          <String value="disposing of lastSignal"/>
        </UserCommand>
        <Assign>
          <Variable name="lastSignal"/>
          <Expression>
            <String value=""/>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N69" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="287" y-pos="287" control-x-pos="354" control-y-pos="354"/>
          <Point x-pos="486" y-pos="412" control-x-pos="416" control-y-pos="401"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="210" y-pos="210"/>
      </Graphics>
    </Node>
  </SuperNode>
  <SuperNode id="S19" name="DoCLosing" comment="" exhaustive="false" preserving="false" start="N18;">
    <Define>
    </Define>
    <Declare>
      <Variable type="DialogueAct" name ="return">
        <Struct>
          <Assign>
            <Variable name="type"/>
            <Expression>
              <String value=""/>
            </Expression>
          </Assign>
          <Assign>
            <Variable name="subtype"/>
            <Expression>
              <String value=""/>
            </Expression>
          </Assign>
        </Struct>
      </Variable>
      <Variable type="String" name ="lastTime">
        <String value=""/>
      </Variable>
    </Declare>
    <Commands>
    </Commands>
    <EEdge target="S8" start ="">
    <Graphics>
      <Arrow>
        <Point x-pos="458" y-pos="612" control-x-pos="530" control-y-pos="563"/>
        <Point x-pos="440" y-pos="458" control-x-pos="506" control-y-pos="501"/>
      </Arrow>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position x-pos="372" y-pos="544"/>
    </Graphics>
    <VariableBadge>
      <Position x-pos="30" y-pos="18"/>
    </VariableBadge>
    <Node id="N102" name="History" exhaustive="false" preserving="false" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position x-pos="28" y-pos="458"/>
      </Graphics>
    </Node>
    <Node id="N204" name="N204" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Member name="flag" member="status">
          </Member>
          <Expression>
            <Member name="StatE" member="stopped">
            </Member>
          </Expression>
        </Assign>
      </Commands>
      <Graphics>
        <Position x-pos="1146" y-pos="200"/>
      </Graphics>
    </Node>
    <Node id="N18" name="Start" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N40" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="92" y-pos="378" control-x-pos="107" control-y-pos="350"/>
            <Point x-pos="136" y-pos="280" control-x-pos="120" control-y-pos="307"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Variable name="situation"/>
          <Member name="SE" member="startClosing">
          </Member>
        </Eq>
      </CEdge>
      <Graphics>
        <Position x-pos="28" y-pos="372"/>
      </Graphics>
    </Node>
    <Node id="N19" name="N11" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="return"/>
          <Expression>
            <Struct>
              <Assign>
                <Variable name="type"/>
                <Expression>
                  <String value="salutation"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="subtype"/>
                <Expression>
                  <String value="closing"/>
                </Expression>
              </Assign>
            </Struct>
          </Expression>
        </Assign>
        <UserCommand name="emitDialogueAct">
          <Variable name="return"/>
        </UserCommand>
      </Commands>
      <EEdge target="N204" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="1189" y-pos="372" control-x-pos="1189" control-y-pos="350"/>
          <Point x-pos="1189" y-pos="286" control-x-pos="1189" control-y-pos="307"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="1146" y-pos="372"/>
      </Graphics>
    </Node>
    <Node id="N40" name="DidYouLikeIt" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="return"/>
          <Expression>
            <Struct>
              <Assign>
                <Variable name="type"/>
                <Expression>
                  <String value="request"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="subtype"/>
                <Expression>
                  <String value="fun"/>
                </Expression>
              </Assign>
            </Struct>
          </Expression>
        </Assign>
        <UserCommand name="emitDialogueAct">
          <Variable name="return"/>
        </UserCommand>
      </Commands>
      <EEdge target="S3" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="178" y-pos="280" control-x-pos="193" control-y-pos="307"/>
          <Point x-pos="218" y-pos="372" control-x-pos="199" control-y-pos="340"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="114" y-pos="200"/>
      </Graphics>
    </Node>
    <Node id="N4" name="N4" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N22" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="587" y-pos="716" control-x-pos="587" control-y-pos="522"/>
            <Point x-pos="587" y-pos="286" control-x-pos="587" control-y-pos="479"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Member name="lastReaction" member="subtype">
          </Member>
          <String value="fun"/>
        </Eq>
      </CEdge>
      <EEdge target="N20" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="617" y-pos="729" control-x-pos="656" control-y-pos="689"/>
          <Point x-pos="729" y-pos="617" control-x-pos="689" control-y-pos="656"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="544" y-pos="716"/>
      </Graphics>
    </Node>
    <Node id="N5" name="N5" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <UserCommand name="emitDA">
          <String value="request(meetagain)"/>
        </UserCommand>
        <Assign>
          <Variable name="lastReaction"/>
          <Expression>
            <UserCommand name="emptyReaction">
            </UserCommand>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="S3" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="372" y-pos="415" control-x-pos="350" control-y-pos="415"/>
          <Point x-pos="286" y-pos="415" control-x-pos="307" control-y-pos="415"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="372" y-pos="372"/>
      </Graphics>
    </Node>
    <Node id="N10" name="N10" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <UserCommand name="emitDialogueAct">
          <Struct>
            <Assign>
              <Variable name="type"/>
              <Expression>
                <String value="acknowledgement"/>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="subtype"/>
              <Expression>
                <String value="meetagain"/>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="value"/>
              <Expression>
                <Member name="lastReaction" member="value">
                </Member>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="LastTime"/>
              <Expression>
                <Variable name="lastTime"/>
              </Expression>
            </Assign>
          </Struct>
        </UserCommand>
      </Commands>
      <EEdge target="N19" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="1189" y-pos="544" control-x-pos="1189" control-y-pos="522"/>
          <Point x-pos="1189" y-pos="458" control-x-pos="1189" control-y-pos="479"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="1146" y-pos="544"/>
      </Graphics>
    </Node>
    <Node id="N11" name="N11" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastTime"/>
          <Expression>
            <String value="yes"/>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N10" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="973" y-pos="512" control-x-pos="1042" control-y-pos="530"/>
          <Point x-pos="1147" y-pos="576" control-x-pos="1077" control-y-pos="557"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="888" y-pos="458"/>
      </Graphics>
    </Node>
    <Node id="N17" name="N17" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="lastTime"/>
          <Expression>
            <String value="no"/>
          </Expression>
        </Assign>
      </Commands>
      <EEdge target="N10" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="968" y-pos="737" control-x-pos="1045" control-y-pos="690"/>
          <Point x-pos="1152" y-pos="608" control-x-pos="1074" control-y-pos="652"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="888" y-pos="716"/>
      </Graphics>
    </Node>
    <Node id="N20" name="N20" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N17" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="789" y-pos="617" control-x-pos="828" control-y-pos="656"/>
            <Point x-pos="901" y-pos="729" control-x-pos="861" control-y-pos="689"/>
          </Arrow>
        </Graphics>
        <Eq>
          <UserCommand name="isFinalSession">
          </UserCommand>
          <Bool value="false"/>
        </Eq>
      </CEdge>
      <CEdge target="N6" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="770" y-pos="545" control-x-pos="788" control-y-pos="475"/>
            <Point x-pos="834" y-pos="371" control-x-pos="815" control-y-pos="440"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Member name="lastReaction" member="value">
          </Member>
          <String value="no"/>
        </Eq>
      </CEdge>
      <EEdge target="N11" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="796" y-pos="565" control-x-pos="823" control-y-pos="548"/>
          <Point x-pos="894" y-pos="522" control-x-pos="866" control-y-pos="537"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="716" y-pos="544"/>
      </Graphics>
    </Node>
    <Node id="N6" name="N6" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <UserCommand name="emitDialogueAct">
          <Struct>
            <Assign>
              <Variable name="type"/>
              <Expression>
                <String value="acknowledgement"/>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="subtype"/>
              <Expression>
                <String value="meetagain"/>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="value"/>
              <Expression>
                <Member name="lastReaction" member="value">
                </Member>
              </Expression>
            </Assign>
          </Struct>
        </UserCommand>
      </Commands>
      <EEdge target="N19" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="887" y-pos="340" control-x-pos="997" control-y-pos="368"/>
          <Point x-pos="1147" y-pos="404" control-x-pos="1036" control-y-pos="375"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="802" y-pos="286"/>
      </Graphics>
    </Node>
    <Node id="N22" name="HadeNoFun" exhaustive="false" preserving="false" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Assign>
          <Variable name="return"/>
          <Expression>
            <Struct>
              <Assign>
                <Variable name="type"/>
                <Expression>
                  <String value="acknowledgement"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="subtype"/>
                <Expression>
                  <String value="fun"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="value"/>
                <Expression>
                  <Member name="lastReaction" member="value">
                  </Member>
                </Expression>
              </Assign>
            </Struct>
          </Expression>
        </Assign>
        <UserCommand name="emitDialogueAct">
          <Variable name="return"/>
        </UserCommand>
      </Commands>
      <EEdge target="N5" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="557" y-pos="273" control-x-pos="517" control-y-pos="312"/>
          <Point x-pos="445" y-pos="385" control-x-pos="484" control-y-pos="345"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="544" y-pos="200"/>
      </Graphics>
    </Node>
    <SuperNode id="S1" name="TestForRightAnswerTest if response is to the question asked" comment="" exhaustive="false" preserving="false" start="N23;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="S3" start="">
        <Graphics>
          <Arrow>
            <Point x-pos="243" y-pos="716" control-x-pos="243" control-y-pos="608"/>
            <Point x-pos="243" y-pos="458" control-x-pos="243" control-y-pos="565"/>
          </Arrow>
        </Graphics>
        <Eq>
          <Variable name="correctResponse"/>
          <Bool value="false"/>
        </Eq>
      </CEdge>
      <EEdge target="N4" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="286" y-pos="759" control-x-pos="393" control-y-pos="759"/>
          <Point x-pos="544" y-pos="759" control-x-pos="436" control-y-pos="759"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="200" y-pos="716"/>
      </Graphics>
      <VariableBadge>
        <Position x-pos="10" y-pos="10"/>
      </VariableBadge>
      <Node id="N21" name="History" exhaustive="false" preserving="false" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position x-pos="28" y-pos="200"/>
        </Graphics>
      </Node>
      <Node id="N23" name="N129" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Assign>
            <Variable name="correctResponse"/>
            <Expression>
              <Bool value="false"/>
            </Expression>
          </Assign>
        </Commands>
        <CEdge target="N27" start="">
          <Graphics>
            <Arrow>
              <Point x-pos="200" y-pos="329" control-x-pos="307" control-y-pos="329"/>
              <Point x-pos="458" y-pos="329" control-x-pos="350" control-y-pos="329"/>
            </Arrow>
          </Graphics>
          <Eq>
            <Member name="lastReaction" member="type">
            </Member>
            <String value="inform"/>
          </Eq>
        </CEdge>
        <EEdge target="N30" start ="">
        <Graphics>
          <Arrow>
            <Point x-pos="187" y-pos="359" control-x-pos="311" control-y-pos="483"/>
            <Point x-pos="471" y-pos="643" control-x-pos="346" control-y-pos="518"/>
          </Arrow>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position x-pos="114" y-pos="286"/>
        </Graphics>
      </Node>
      <Node id="N27" name="HadeNoFun" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Assign>
            <Variable name="correctResponse"/>
            <Expression>
              <Bool value="true"/>
            </Expression>
          </Assign>
        </Commands>
        <EEdge target="N29" start ="">
        <Graphics>
          <Arrow>
            <Point x-pos="544" y-pos="329" control-x-pos="651" control-y-pos="329"/>
            <Point x-pos="802" y-pos="329" control-x-pos="694" control-y-pos="329"/>
          </Arrow>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position x-pos="458" y-pos="286"/>
        </Graphics>
      </Node>
      <Node id="N29" name="Emit" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position x-pos="802" y-pos="286"/>
        </Graphics>
      </Node>
      <Node id="N30" name="HadFun" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <UserCommand name="emitDA">
            <String value="request(fun)"/>
          </UserCommand>
        </Commands>
        <EEdge target="N29" start ="">
        <Graphics>
          <Arrow>
            <Point x-pos="531" y-pos="643" control-x-pos="655" control-y-pos="518"/>
            <Point x-pos="815" y-pos="359" control-x-pos="690" control-y-pos="483"/>
          </Arrow>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position x-pos="458" y-pos="630"/>
        </Graphics>
      </Node>
    </SuperNode>
    <SuperNode id="S3" name="WaitToContinue" comment="" exhaustive="false" preserving="false" start="N39;">
      <Define>
      </Define>
      <Declare>
        <Variable type="String" name ="waitFor">
          <String value="inform"/>
        </Variable>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="S1" start ="">
      <Graphics>
        <Arrow>
          <Point x-pos="255" y-pos="458" control-x-pos="285" control-y-pos="565"/>
          <Point x-pos="255" y-pos="716" control-x-pos="285" control-y-pos="608"/>
        </Arrow>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position x-pos="200" y-pos="372"/>
      </Graphics>
      <VariableBadge>
        <Position x-pos="10" y-pos="10"/>
      </VariableBadge>
      <Node id="N31" name="History" exhaustive="false" preserving="false" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position x-pos="28" y-pos="716"/>
        </Graphics>
      </Node>
      <Node id="N32" name="IdleState" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <CEdge target="N33" start="">
          <Graphics>
            <Arrow>
              <Point x-pos="544" y-pos="415" control-x-pos="608" control-y-pos="415"/>
              <Point x-pos="802" y-pos="587" control-x-pos="737" control-y-pos="587"/>
            </Arrow>
          </Graphics>
          <Or>
            <Eq>
              <Member name="lastReaction" member="type">
              </Member>
              <Variable name="waitFor"/>
            </Eq>
            <Eq>
              <Member name="lastReaction" member="type">
              </Member>
              <String value="silence"/>
            </Eq>
          </Or>
        </CEdge>
        <TEdge target="N39" start="" timeout="2000">
        <Graphics>
          <Arrow>
            <Point x-pos="464" y-pos="393" control-x-pos="354" control-y-pos="327"/>
            <Point x-pos="194" y-pos="265" control-x-pos="303" control-y-pos="330"/>
          </Arrow>
        </Graphics>
        </TEdge>
        <Graphics>
          <Position x-pos="458" y-pos="372"/>
        </Graphics>
      </Node>
      <Node id="N33" name="StartPlayingQuiz" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <UserCommand name="print">
            <Add>
              <String value="Next: "/>
              <Member name="lastReaction" member="type">
              </Member>
            </Add>
          </UserCommand>
        </Commands>
        <Graphics>
          <Position x-pos="802" y-pos="544"/>
        </Graphics>
      </Node>
      <Node id="N34" name="Quit" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position x-pos="372" y-pos="544"/>
        </Graphics>
      </Node>
      <Node id="N35" name="ResetToIdle" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Assign>
            <Member name="flag" member="status">
            </Member>
            <Expression>
              <Member name="StatE" member="idle">
              </Member>
            </Expression>
          </Assign>
        </Commands>
        <EEdge target="N38" start ="">
        <Graphics>
          <Arrow>
            <Point x-pos="340" y-pos="285" control-x-pos="345" control-y-pos="306"/>
            <Point x-pos="340" y-pos="373" control-x-pos="345" control-y-pos="352"/>
          </Arrow>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position x-pos="286" y-pos="200"/>
        </Graphics>
      </Node>
      <Node id="N36" name="ChangeStatus" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Assign>
            <Member name="flag" member="status">
            </Member>
            <Expression>
              <Member name="StatE" member="shuttingDown">
              </Member>
            </Expression>
          </Assign>
        </Commands>
        <EEdge target="N34" start ="">
        <Graphics>
          <Arrow>
            <Point x-pos="200" y-pos="587" control-x-pos="264" control-y-pos="587"/>
            <Point x-pos="372" y-pos="587" control-x-pos="307" control-y-pos="587"/>
          </Arrow>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position x-pos="114" y-pos="544"/>
        </Graphics>
      </Node>
      <Node id="N37" name="CheckShutDown" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <CEdge target="N36" start="">
          <Graphics>
            <Arrow>
              <Point x-pos="157" y-pos="458" control-x-pos="157" control-y-pos="479"/>
              <Point x-pos="157" y-pos="544" control-x-pos="157" control-y-pos="522"/>
            </Arrow>
          </Graphics>
          <Eq>
            <Member name="flag" member="shutDownRequested">
            </Member>
            <Bool value="true"/>
          </Eq>
        </CEdge>
        <EEdge target="N38" start ="">
        <Graphics>
          <Arrow>
            <Point x-pos="200" y-pos="415" control-x-pos="221" control-y-pos="415"/>
            <Point x-pos="286" y-pos="415" control-x-pos="264" control-y-pos="415"/>
          </Arrow>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position x-pos="114" y-pos="372"/>
        </Graphics>
      </Node>
      <Node id="N38" name="CheckStopped" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <CEdge target="N35" start="">
          <Graphics>
            <Arrow>
              <Point x-pos="329" y-pos="372" control-x-pos="329" control-y-pos="350"/>
              <Point x-pos="329" y-pos="286" control-x-pos="329" control-y-pos="307"/>
            </Arrow>
          </Graphics>
          <Eq>
            <Member name="flag" member="status">
            </Member>
            <Member name="StatE" member="stopped">
            </Member>
          </Eq>
        </CEdge>
        <EEdge target="N32" start ="">
        <Graphics>
          <Arrow>
            <Point x-pos="372" y-pos="415" control-x-pos="393" control-y-pos="415"/>
            <Point x-pos="458" y-pos="415" control-x-pos="436" control-y-pos="415"/>
          </Arrow>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position x-pos="286" y-pos="372"/>
        </Graphics>
      </Node>
      <Node id="N39" name="Start" exhaustive="false" preserving="false" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="N37" start ="">
        <Graphics>
          <Arrow>
            <Point x-pos="157" y-pos="286" control-x-pos="157" control-y-pos="307"/>
            <Point x-pos="157" y-pos="372" control-x-pos="157" control-y-pos="350"/>
          </Arrow>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position x-pos="114" y-pos="200"/>
        </Graphics>
      </Node>
    </SuperNode>
  </SuperNode>
  <UserCommands>
    <UserCommand name="sysCall" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="sysCall">
      <Argument name="Arg0" type="java.lang.String"/>
      <Argument name="Arg1" type="java.lang.String"/>
    </UserCommand>
    <UserCommand name="get" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="get">
      <Argument name="Arg0" type="[[Ljava.lang.Object;"/>
      <Argument name="Arg1" type="java.lang.String"/>
    </UserCommand>
    <UserCommand name="checkUMIfPresent" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="checkUsermodelIfPresent">
      <Argument name="Arg0" type="java.lang.String"/>
    </UserCommand>
    <UserCommand name="emptyReaction" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="getEmptyReaction">
    </UserCommand>
    <UserCommand name="isFinalSession" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="isFinalSession">
    </UserCommand>
    <UserCommand name="getSystemSignal" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="systemSignal">
    </UserCommand>
    <UserCommand name="listen" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="listen">
    </UserCommand>
    <UserCommand name="emitDialogueAct" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="emitDialogueAct">
      <Argument name="Arg0" type="[[Ljava.lang.Object;"/>
    </UserCommand>
    <UserCommand name="stopListening" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="stopListening">
    </UserCommand>
    <UserCommand name="print" classname ="java.lang.System.out" method="println">
      <Argument name="text" type="java.lang.String"/>
    </UserCommand>
    <UserCommand name="emitDA" classname ="de.dfki.lt.sminterface.SceneMakerInterface" method="emitDAString">
      <Argument name="Arg0" type="java.lang.String"/>
    </UserCommand>
  </UserCommands>
  <ClassPath>
  </ClassPath>
  <InitContext></InitContext>
</SceneFlow>
